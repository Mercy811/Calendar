<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text" id="username" placeholder="Username" />
    <input type="password" id="password" placeholder="Password" />
    <button id="login_btn">Log In</button>

    <script>

        function loginAjax(event) {
            const username = document.getElementById("username").value; // Get the username from the form
            const password = document.getElementById("password").value; // Get the password from the form

            // Make a URL-encoded string for passing POST data:
            const data = { 'username': username, 'password': password };

            fetch("login.php", {
                method: 'POST',
                body: JSON.stringify(data),
                headers: { 'content-type': 'application/json' }
            })
                .then(response => response.json())
                // .then(data => console.log(data.success ? `Youve been logged in!\n msg: ${data.msg}` : `message: ${data.msg} | input ${data.user_input}, ${data.pwd_input} | username: ${data.username}, id: ${data.user_id}, password: ${data.password}`))
                // .then(data => console.log(`count: ${data.count} | input: ${data.user_input}, ${data.pwd_input} | id: ${data.user_id}, password: ${data.password}`))
                .catch(error => console.error('Error:', error))
        }

        document.getElementById("login_btn").addEventListener("click", loginAjax, false); // Bind the AJAX call to button click
    </script>
</body>

</html>